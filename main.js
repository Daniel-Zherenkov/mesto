(()=>{"use strict";eval("\n// UNUSED EXPORTS: imgPopup, imgPopupCloseButton, imgPopupImage, imgPopupTitle\n\n;// CONCATENATED MODULE: ./src/components/card.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Card = /*#__PURE__*/function () {\n  function Card(object, cardSelector, meID, handleCardClick, handleLikeCounter, handleDeleteCard) {\n    _classCallCheck(this, Card);\n\n    this._cardSelector = cardSelector;\n    this._name = object.name;\n    this._link = object.link;\n    this._handleCardClick = handleCardClick;\n    this._handleLikeCounter = handleLikeCounter;\n    this._element = this._getTemplate();\n    this.likesCounter = this._element.querySelector('.element__like-count');\n    this.trash = this._element.querySelector('.element__trash');\n    this.trashCard = this.trash.closest('.element');\n    this._handleDeleteCard = handleDeleteCard;\n    this._likes = object.likes;\n    this._meID = meID.id;\n  }\n\n  _createClass(Card, [{\n    key: \"_getTemplate\",\n    value: function _getTemplate() {\n      var cardElement = document.querySelector(this._cardSelector).content.querySelector('.element').cloneNode(true);\n      return cardElement;\n    }\n  }, {\n    key: \"_handleMassegeLike\",\n    value: function _handleMassegeLike() {\n      this._element.querySelector('.element__like_icon').classList.toggle('element__like_fill');\n    }\n  }, {\n    key: \"isLiked\",\n    value: function isLiked() {\n      var _this = this;\n\n      return this._likes.some(function (element) {\n        return element._id === _this._meID;\n      });\n    }\n  }, {\n    key: \"setLikes\",\n    value: function setLikes(res) {\n      if (this.isLiked()) {\n        this._likes = res.likes; // console.log('aa')\n\n        this.likesCounter.textContent = res.likes.length;\n\n        this._element.querySelector('.element__like_icon').classList.remove('element__like_fill');\n      } else {\n        // res.likes = this._likes\n        // console.log('bb')\n        this.likesCounter.textContent = res.likes.length;\n\n        this._element.querySelector('.element__like_icon').classList.add('element__like_fill');\n      }\n    }\n  }, {\n    key: \"deleteCard\",\n    value: function deleteCard() {\n      this.trashCard.remove();\n    } // addLike(res) {\n    //     // console.log(res.likes)\n    //     // console.log(this._likes)\n    //     this._likes = res.likes\n    //     this.likesCounter.textContent = res.likes.length\n    //     this._element\n    //         .querySelector('.element__like_icon')\n    //         .classList.add('element__like_fill');\n    //     // console.log(this._likes)\n    // }\n    // delLike(res) {\n    //     // console.log(res.likes)\n    //     res.likes = this._likes\n    //     this.likesCounter.textContent = res.likes.length - 1\n    //     this._element\n    //         .querySelector('.element__like_icon')\n    //         .classList.remove('element__like_fill');\n    // }\n\n  }, {\n    key: \"_setEventListener\",\n    value: function _setEventListener() {\n      var _this2 = this;\n\n      this._element.querySelector('.element__like').addEventListener('click', function () {\n        // this._handleMassegeLike();\n        _this2._handleLikeCounter(_this2);\n      });\n\n      this._element.querySelector('.element__trash').addEventListener('click', function () {\n        _this2._handleDeleteCard();\n      });\n\n      this._element.querySelector('.element__image').addEventListener('click', function () {\n        _this2._handleCardClick();\n      });\n    }\n  }, {\n    key: \"generateCard\",\n    value: function generateCard(id, meID) {\n      this._image = this._element.querySelector('.element__image');\n\n      this._setEventListener();\n\n      this._image.src = this._link;\n      this._element.querySelector('.element__title').textContent = this._name;\n      this._image.alt = this._name;\n\n      if (id !== meID) {\n        this._element.querySelector('.element__trash').remove();\n      }\n\n      this.likesCounter.textContent = this._likes.length;\n      return this._element;\n    }\n  }]);\n\n  return Card;\n}(); // 'c4b57be845e0c2e7582e746a'\n;// CONCATENATED MODULE: ./src/components/formValidator.js\nfunction formValidator_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction formValidator_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction formValidator_createClass(Constructor, protoProps, staticProps) { if (protoProps) formValidator_defineProperties(Constructor.prototype, protoProps); if (staticProps) formValidator_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar FormValidator = /*#__PURE__*/function () {\n  function FormValidator(object, formSelector) {\n    formValidator_classCallCheck(this, FormValidator);\n\n    this._form = document.querySelector(formSelector);\n    this._input = this._form.querySelector(object.inputSelector);\n    this._formButton = this._form.querySelector(object.submitButtonSelector);\n    this._objectInput = object.inputSelector;\n    this._inputList = Array.from(this._form.querySelectorAll(this._objectInput)); //массив инпутов формы\n  } //основной метод валидации\n\n\n  formValidator_createClass(FormValidator, [{\n    key: \"_checkInputValidity\",\n    value: function _checkInputValidity() {\n      var _this = this;\n\n      //проверка каждого инпута на валидность\n      var hasInvalid = function hasInvalid() {\n        return _this._inputList.some(function (inputElement) {\n          return !inputElement.validity.valid;\n        });\n      }; //условие, что какой-то из инпутов не прошел проверку, нужно выключить кнопку сохранения формы\n\n\n      var toggle = function toggle() {\n        if (hasInvalid(_this._inputList)) {\n          _this._formButton.classList.add('popup-error__disabled-button');\n\n          _this._formButton.setAttribute('disabled', true);\n        } else {\n          _this._formButton.classList.remove('popup-error__disabled-button');\n\n          _this._formButton.removeAttribute('disabled', true);\n        }\n      }; //условие, что если какой-то из инпутов не прошел проверку на валидность, вывести ошибку и поменять стили для инпута\n\n\n      this._inputList.forEach(function (inputElement) {\n        if (!inputElement.validity.valid) {\n          var formError = _this._form.querySelector(\"#\".concat(inputElement.id, \"-error\"));\n\n          inputElement.classList.add('popup-error__input-error');\n          formError.textContent = inputElement.validationMessage;\n          toggle();\n        } else {\n          var _formError = _this._form.querySelector(\"#\".concat(inputElement.id, \"-error\"));\n\n          _this._input.classList.remove('popup-error__input-error');\n\n          _formError.textContent = '';\n          toggle();\n        }\n      });\n    } //включение валидации, этот метод вызывается у экземпляра класса чтобы форма валидирвалась\n\n  }, {\n    key: \"enableValidation\",\n    value: function enableValidation() {\n      var _this2 = this;\n\n      this._inputList.forEach(function (inputElement) {\n        if (inputElement.name === 'placeName') {\n          _this2._formButton.classList.add('popup-error__disabled-button');\n\n          _this2._formButton.setAttribute('disabled', true);\n        }\n\n        inputElement.addEventListener('input', function () {\n          _this2._checkInputValidity();\n        });\n      });\n    }\n  }]);\n\n  return FormValidator;\n}();\n;// CONCATENATED MODULE: ./src/components/Section.js\nfunction Section_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction Section_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Section_createClass(Constructor, protoProps, staticProps) { if (protoProps) Section_defineProperties(Constructor.prototype, protoProps); if (staticProps) Section_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Section = /*#__PURE__*/function () {\n  function Section(_ref, containerSelector) {\n    var renderer = _ref.renderer;\n\n    Section_classCallCheck(this, Section);\n\n    this._renderer = renderer;\n    this._container = document.querySelector(containerSelector);\n  }\n\n  Section_createClass(Section, [{\n    key: \"addItem\",\n    value: function addItem(item) {\n      this._container.append(item);\n    }\n  }, {\n    key: \"addItemFromPopup\",\n    value: function addItemFromPopup(item) {\n      this._container.prepend(item);\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(data) {\n      var _this = this;\n\n      data.forEach(function (item) {\n        _this._renderer(item);\n      });\n    }\n  }]);\n\n  return Section;\n}();\n\n\n;// CONCATENATED MODULE: ./src/components/Popup.js\nfunction Popup_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction Popup_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Popup_createClass(Constructor, protoProps, staticProps) { if (protoProps) Popup_defineProperties(Constructor.prototype, protoProps); if (staticProps) Popup_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Popup = /*#__PURE__*/function () {\n  function Popup(popUpSelector) {\n    Popup_classCallCheck(this, Popup);\n\n    this._popup = document.querySelector(popUpSelector);\n    this._closeButton = this._popup.querySelector('.popup-close');\n    this._handleEscClose = this._handleEscClose.bind(this);\n  }\n\n  Popup_createClass(Popup, [{\n    key: \"close\",\n    value: function close() {\n      this._popup.classList.remove('popup-opened');\n\n      document.removeEventListener('keydown', this._handleEscClose);\n    }\n  }, {\n    key: \"_handleEscClose\",\n    value: function _handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        this.close();\n      }\n    }\n  }, {\n    key: \"_handleOverlayClose\",\n    value: function _handleOverlayClose(evt) {\n      if (evt.target === this._popup) {\n        this.close();\n      }\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      this._popup.classList.add('popup-opened');\n\n      document.addEventListener('keydown', this._handleEscClose);\n    }\n  }, {\n    key: \"setEventListeners\",\n    value: function setEventListeners() {\n      this._popup.addEventListener('click', this._handleOverlayClose.bind(this));\n\n      this._closeButton.addEventListener('click', this.close.bind(this));\n    }\n  }]);\n\n  return Popup;\n}();\n\n\n;// CONCATENATED MODULE: ./src/components/PopupWithImage.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction PopupWithImage_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction PopupWithImage_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction PopupWithImage_createClass(Constructor, protoProps, staticProps) { if (protoProps) PopupWithImage_defineProperties(Constructor.prototype, protoProps); if (staticProps) PopupWithImage_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar PopupWithImage = /*#__PURE__*/function (_Popup) {\n  _inherits(PopupWithImage, _Popup);\n\n  var _super = _createSuper(PopupWithImage);\n\n  function PopupWithImage(popUpSelector) {\n    var _this;\n\n    PopupWithImage_classCallCheck(this, PopupWithImage);\n\n    _this = _super.call(this, popUpSelector);\n    _this._image = _this._popup.querySelector('.img-popup__image');\n    _this._text = _this._popup.querySelector('.img-popup__title');\n    return _this;\n  }\n\n  PopupWithImage_createClass(PopupWithImage, [{\n    key: \"open\",\n    value: function open(text, image) {\n      this._image.src = image;\n      this._text.textContent = text;\n\n      _get(_getPrototypeOf(PopupWithImage.prototype), \"open\", this).call(this);\n    }\n  }]);\n\n  return PopupWithImage;\n}(Popup);\n\n\n;// CONCATENATED MODULE: ./src/components/PopupWithForm.js\nfunction PopupWithForm_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { PopupWithForm_typeof = function _typeof(obj) { return typeof obj; }; } else { PopupWithForm_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return PopupWithForm_typeof(obj); }\n\nfunction PopupWithForm_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction PopupWithForm_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction PopupWithForm_createClass(Constructor, protoProps, staticProps) { if (protoProps) PopupWithForm_defineProperties(Constructor.prototype, protoProps); if (staticProps) PopupWithForm_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction PopupWithForm_get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { PopupWithForm_get = Reflect.get; } else { PopupWithForm_get = function _get(target, property, receiver) { var base = PopupWithForm_superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return PopupWithForm_get(target, property, receiver || target); }\n\nfunction PopupWithForm_superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = PopupWithForm_getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction PopupWithForm_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) PopupWithForm_setPrototypeOf(subClass, superClass); }\n\nfunction PopupWithForm_setPrototypeOf(o, p) { PopupWithForm_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return PopupWithForm_setPrototypeOf(o, p); }\n\nfunction PopupWithForm_createSuper(Derived) { var hasNativeReflectConstruct = PopupWithForm_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = PopupWithForm_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = PopupWithForm_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return PopupWithForm_possibleConstructorReturn(this, result); }; }\n\nfunction PopupWithForm_possibleConstructorReturn(self, call) { if (call && (PopupWithForm_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return PopupWithForm_assertThisInitialized(self); }\n\nfunction PopupWithForm_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction PopupWithForm_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction PopupWithForm_getPrototypeOf(o) { PopupWithForm_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return PopupWithForm_getPrototypeOf(o); }\n\n\n\nvar PopupWithForm = /*#__PURE__*/function (_Popup) {\n  PopupWithForm_inherits(PopupWithForm, _Popup);\n\n  var _super = PopupWithForm_createSuper(PopupWithForm);\n\n  function PopupWithForm(popUpSelector, handleSubmit) {\n    var _this;\n\n    PopupWithForm_classCallCheck(this, PopupWithForm);\n\n    _this = _super.call(this, popUpSelector);\n    _this._handleSubmit = handleSubmit;\n    _this._popUpSelector = popUpSelector;\n    _this.form = _this._popup.querySelector('.main-form');\n    return _this;\n  }\n\n  PopupWithForm_createClass(PopupWithForm, [{\n    key: \"_getInputValues\",\n    value: function _getInputValues() {\n      var _this2 = this;\n\n      this._inputList = this._popup.querySelectorAll('.input');\n      this._inputValues = {};\n\n      this._inputList.forEach(function (item) {\n        _this2._inputValues[item.name] = item.value;\n      });\n\n      return this._inputValues;\n    }\n  }, {\n    key: \"_submitHandler\",\n    value: function _submitHandler(evt) {\n      evt.preventDefault();\n\n      this._handleSubmit(this._getInputValues());\n\n      this.close();\n    } // _submitHandlerAvatar (evt) {\n    //     evt.preventDefault();\n    //     this._handleSubmit(this._getInputValues());\n    //     super.close();\n    // }\n\n  }, {\n    key: \"setEventListeners\",\n    value: function setEventListeners() {\n      this._popup.addEventListener('submit', this._submitHandler.bind(this));\n\n      PopupWithForm_get(PopupWithForm_getPrototypeOf(PopupWithForm.prototype), \"setEventListeners\", this).call(this);\n    } // setEventListenersAvatar() {\n    //     this._popup.addEventListener('submit', this._submitHandlerAvatar.bind(this))\n    //     super.setEventListeners()\n    // }\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      PopupWithForm_get(PopupWithForm_getPrototypeOf(PopupWithForm.prototype), \"close\", this).call(this); // \n\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.form.reset();\n    }\n  }]);\n\n  return PopupWithForm;\n}(Popup);\n\n\n;// CONCATENATED MODULE: ./src/components/UserInfo.js\nfunction UserInfo_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction UserInfo_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction UserInfo_createClass(Constructor, protoProps, staticProps) { if (protoProps) UserInfo_defineProperties(Constructor.prototype, protoProps); if (staticProps) UserInfo_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar UserInfo = /*#__PURE__*/function () {\n  function UserInfo(_ref) {\n    var profileNameSelector = _ref.profileNameSelector,\n        profileAboutSelector = _ref.profileAboutSelector;\n\n    UserInfo_classCallCheck(this, UserInfo);\n\n    this._name = document.querySelector(profileNameSelector);\n    this._about = document.querySelector(profileAboutSelector);\n  }\n\n  UserInfo_createClass(UserInfo, [{\n    key: \"getUserInfo\",\n    value: function getUserInfo() {\n      var userInfoObj = {};\n      userInfoObj.name = this._name.textContent;\n      userInfoObj.about = this._about.textContent;\n      return userInfoObj;\n    }\n  }, {\n    key: \"setUserInfo\",\n    value: function setUserInfo(object) {\n      this._name.textContent = object.name;\n      this._about.textContent = object.about;\n    }\n  }, {\n    key: \"setUserAvatar\",\n    value: function setUserAvatar(avatarSelector, object) {\n      this._avatar = document.querySelector(avatarSelector);\n      this._avatar.src = object.avatar;\n    }\n  }]);\n\n  return UserInfo;\n}();\n\n\n;// CONCATENATED MODULE: ./src/components/Api.js\nfunction Api_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction Api_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Api_createClass(Constructor, protoProps, staticProps) { if (protoProps) Api_defineProperties(Constructor.prototype, protoProps); if (staticProps) Api_defineProperties(Constructor, staticProps); return Constructor; }\n\n// ПРИМЕР ИНИЦИАЛИЗАЦИИ КЛАССА const api = new Api({\n//     baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-42',\n//     headers: {\n//       authorization: 'c56e30dc-2883-4270-a59e-b2f7bae969c6',\n//       'Content-Type': 'application/json'\n//     }\n//   }); \n// fetch('https://mesto.nomoreparties.co/v1/cohort-18/cards', {\n//   headers: {\n//     authorization: '8bcd8154-9450-4170-8ca5-d5b37663d1a8'\n//   }\n// })\nvar Api = /*#__PURE__*/function () {\n  function Api(options) {\n    Api_classCallCheck(this, Api);\n\n    this._url = options.baseUrl;\n    this._token = options.headers;\n    this._method = options.method;\n    this._body = options.body;\n  }\n\n  Api_createClass(Api, [{\n    key: \"_getResponseData\",\n    value: function _getResponseData(res) {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));\n    }\n  }, {\n    key: \"getProfile\",\n    value: function getProfile() {\n      var _this = this;\n\n      return fetch(this._url + '/users/me', {\n        headers: this._token\n      }).then(function (res) {\n        return _this._getResponseData(res);\n      });\n    }\n  }, {\n    key: \"getCards\",\n    value: function getCards() {\n      var _this2 = this;\n\n      return fetch(this._url + '/cards', {\n        headers: this._token\n      }).then(function (res) {\n        return _this2._getResponseData(res);\n      });\n    }\n  }, {\n    key: \"changeProfile\",\n    value: function changeProfile(_ref) {\n      var _this3 = this;\n\n      var profileName = _ref.profileName,\n          profileAbout = _ref.profileAbout;\n      return fetch(this._url + '/users/me', {\n        method: 'PATCH',\n        headers: this._token,\n        body: JSON.stringify({\n          name: profileName,\n          about: profileAbout\n        })\n      }).then(function (res) {\n        return _this3._getResponseData(res);\n      });\n    }\n  }, {\n    key: \"changeAvatar\",\n    value: function changeAvatar(_ref2) {\n      var _this4 = this;\n\n      var avatar = _ref2.avatar;\n      return fetch(this._url + '/users/me/avatar', {\n        method: 'PATCH',\n        headers: this._token,\n        body: JSON.stringify({\n          avatar: avatar\n        })\n      }).then(function (res) {\n        return _this4._getResponseData(res);\n      });\n    }\n  }, {\n    key: \"addCard\",\n    value: function addCard(_ref3) {\n      var _this5 = this;\n\n      var placeName = _ref3.placeName,\n          link = _ref3.link;\n      return fetch(this._url + '/cards', {\n        method: 'POST',\n        headers: this._token,\n        body: JSON.stringify({\n          name: placeName,\n          link: link\n        })\n      }).then(function (res) {\n        return _this5._getResponseData(res);\n      });\n    }\n  }, {\n    key: \"deleteCard\",\n    value: function deleteCard(id_card) {\n      var _this6 = this;\n\n      return fetch(this._url + \"/cards/\".concat(id_card), {\n        method: 'DELETE',\n        headers: this._token\n      }).then(function (res) {\n        return _this6._getResponseData(res);\n      });\n    }\n  }, {\n    key: \"addLike\",\n    value: function addLike(id_card) {\n      var _this7 = this;\n\n      return fetch(this._url + \"/cards/likes/\".concat(id_card), {\n        method: 'PUT',\n        headers: this._token\n      }).then(function (res) {\n        return _this7._getResponseData(res);\n      });\n    }\n  }, {\n    key: \"deleteLike\",\n    value: function deleteLike(id_card) {\n      var _this8 = this;\n\n      return fetch(this._url + \"/cards/likes/\".concat(id_card), {\n        method: 'DELETE',\n        headers: this._token\n      }).then(function (res) {\n        return _this8._getResponseData(res);\n      });\n    }\n  }]);\n\n  return Api;\n}();\n\n\n;// CONCATENATED MODULE: ./src/components/PopupWithApprove.js\nfunction PopupWithApprove_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { PopupWithApprove_typeof = function _typeof(obj) { return typeof obj; }; } else { PopupWithApprove_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return PopupWithApprove_typeof(obj); }\n\nfunction PopupWithApprove_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction PopupWithApprove_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction PopupWithApprove_createClass(Constructor, protoProps, staticProps) { if (protoProps) PopupWithApprove_defineProperties(Constructor.prototype, protoProps); if (staticProps) PopupWithApprove_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction PopupWithApprove_get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { PopupWithApprove_get = Reflect.get; } else { PopupWithApprove_get = function _get(target, property, receiver) { var base = PopupWithApprove_superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return PopupWithApprove_get(target, property, receiver || target); }\n\nfunction PopupWithApprove_superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = PopupWithApprove_getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction PopupWithApprove_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) PopupWithApprove_setPrototypeOf(subClass, superClass); }\n\nfunction PopupWithApprove_setPrototypeOf(o, p) { PopupWithApprove_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return PopupWithApprove_setPrototypeOf(o, p); }\n\nfunction PopupWithApprove_createSuper(Derived) { var hasNativeReflectConstruct = PopupWithApprove_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = PopupWithApprove_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = PopupWithApprove_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return PopupWithApprove_possibleConstructorReturn(this, result); }; }\n\nfunction PopupWithApprove_possibleConstructorReturn(self, call) { if (call && (PopupWithApprove_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return PopupWithApprove_assertThisInitialized(self); }\n\nfunction PopupWithApprove_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction PopupWithApprove_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction PopupWithApprove_getPrototypeOf(o) { PopupWithApprove_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return PopupWithApprove_getPrototypeOf(o); }\n\n\n\nvar PopupWithApprove = /*#__PURE__*/function (_Popup) {\n  PopupWithApprove_inherits(PopupWithApprove, _Popup);\n\n  var _super = PopupWithApprove_createSuper(PopupWithApprove);\n\n  function PopupWithApprove(popUpSelector, handleSubmit) {\n    var _this;\n\n    PopupWithApprove_classCallCheck(this, PopupWithApprove);\n\n    _this = _super.call(this, popUpSelector);\n    _this._handleSubmit = handleSubmit;\n    return _this;\n  }\n\n  PopupWithApprove_createClass(PopupWithApprove, [{\n    key: \"setEventListeners\",\n    value: function setEventListeners() {\n      var _this2 = this;\n\n      this._popup.addEventListener('submit', function (evt) {\n        evt.preventDefault();\n\n        _this2._handleSubmit();\n\n        _this2.close();\n      });\n\n      PopupWithApprove_get(PopupWithApprove_getPrototypeOf(PopupWithApprove.prototype), \"setEventListeners\", this).call(this);\n    }\n  }]);\n\n  return PopupWithApprove;\n}(Popup);\n\n\n;// CONCATENATED MODULE: ./src/pages/index.js\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n // const initialCards = [\n//     {\n//         name: 'Архыз',\n//         link:\n//             'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg',\n//     },\n//     {\n//         name: 'Челябинская область',\n//         link:\n//             'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg',\n//     },\n//     {\n//         name: 'Иваново',\n//         link:\n//             'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg',\n//     },\n//     {\n//         name: 'Камчатка',\n//         link:\n//             'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg',\n//     },\n//     {\n//         name: 'Холмогорский район',\n//         link:\n//             'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg',\n//     },\n//     {\n//         name: 'Байкал',\n//         link:\n//             'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg',\n//     },\n// ];\n// ID OWNER c4b57be845e0c2e7582e746a\n// console.log(a)\n\nvar editButton = document.querySelector('.profile__edit-button');\nvar profilePopupNameFiled = document.querySelector('.profile-popup__input-filed_name');\nvar profilePopupAboutFiled = document.querySelector('.profile-popup__input-filed_about');\nvar addButton = document.querySelector('.profile__add-button');\nvar avatarDOM = document.querySelector('.profile__avatar');\nvar avatarEditButton = document.querySelector('.profile__edit-avatar');\nvar imgPopup = document.querySelector('.img-popup');\nvar imgPopupImage = document.querySelector('.img-popup__image');\nvar imgPopupTitle = document.querySelector('.img-popup__title');\nvar imgPopupCloseButton = document.querySelector('.img-popup__close-button');\nvar avatarNputFiild = document.querySelector('.avatar-edit-popup__input');\nvar addCardSaveButton = document.querySelector('.add-popup__save-button');\nvar meID = {}; //Основной экземпляр класса с Апишками\n\nvar mainApi = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18',\n  headers: {\n    authorization: '8bcd8154-9450-4170-8ca5-d5b37663d1a8',\n    'Content-Type': 'application/json'\n  }\n});\nPromise.all([mainApi.getProfile(), mainApi.getCards()]).then(function (values) {\n  var _values = _slicedToArray(values, 2),\n      userData = _values[0],\n      cardData = _values[1]; //получаем данные для профиля при загрузке страницы\n\n\n  handleUserInfo.setUserInfo(userData);\n  handleUserInfo.setUserAvatar('.profile__avatar', userData);\n  meID.id = userData._id; // для рендера карточек при загрузке страницы\n\n  renderDefaultCards.renderItems(cardData);\n}).catch(function (err) {\n  console.log(err);\n}); //меняем аватарку\n\nvar changeAvatar = new PopupWithForm('.avatar-edit-popup', function (_ref) {\n  var avatar = _ref.avatar;\n  renderLoading('.add-popup__save-button', true, 'Сохранить');\n  mainApi.changeAvatar({\n    avatar: avatar\n  }).then(function (data) {\n    data.avatar = avatarDOM.src;\n    avatarDOM.src = avatarNputFiild.value;\n    changeAvatar.close();\n  }).catch(function (err) {\n    console.log(err);\n  }).finally(function () {\n    return renderLoading('.add-popup__save-button', false, 'Сохранить');\n  });\n});\nchangeAvatar.setEventListeners();\navatarEditButton.addEventListener('click', function () {\n  renderLoading('.add-popup__save-button', false, 'Сохранить');\n  changeAvatar.open();\n});\n\nvar renderLoading = function renderLoading(selector, isLoading, string) {\n  var saveButton = document.querySelector(selector);\n\n  if (isLoading) {\n    saveButton.textContent = saveButton.textContent + '...';\n  } else if (!isLoading) {\n    saveButton.textContent = string;\n  }\n}; //получаем данные из полей\n\n\nvar handleUserInfo = new UserInfo({\n  profileNameSelector: '.profile__name',\n  profileAboutSelector: '.profile__about-self'\n}); //экземпляр класса с формой для попапа редкатирования профиля\n\nvar handleProfilePopup = new PopupWithForm('.profile-popup', function (_ref2) {\n  var profileName = _ref2.profileName,\n      profileAbout = _ref2.profileAbout;\n  renderLoading('.profile-popup__save-button', true, 'Сохранить');\n  mainApi.changeProfile({\n    profileName: profileName,\n    profileAbout: profileAbout\n  }).then(function (data) {\n    return handleUserInfo.setUserInfo(data);\n  }).catch(function (err) {\n    console.log(err);\n  }).finally(function () {\n    return renderLoading('.profile-popup__save-button', false, 'Сохранить');\n  });\n}); //открытие попапа редактирвоания профиля и заполнение \n\nvar addProfileInfo = function addProfileInfo() {\n  var cardInfo = handleUserInfo.getUserInfo();\n  profilePopupNameFiled.value = cardInfo.name;\n  profilePopupAboutFiled.value = cardInfo.about;\n  renderLoading('.profile-popup__save-button', false, 'Сохранить');\n  handleProfilePopup.open();\n};\n\neditButton.addEventListener('click', addProfileInfo);\nhandleProfilePopup.setEventListeners();\n\nvar buildCard = function buildCard(item, bool) {\n  var card = new Card(item, '#elementCards', meID, function () {\n    var name = item.name;\n    var link = item.link;\n    popupImg.open(name, link);\n  }, function (currentCard) {\n    if (currentCard.isLiked()) {\n      mainApi.deleteLike(item._id).then(function (res) {\n        //метод setLikes присваивает цифре под лайком значение длины массива лайков и убирает закрашивание сердечка\n        currentCard.setLikes(res);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    } else {\n      mainApi.addLike(item._id).then(function (res) {\n        currentCard.setLikes(res);\n      }).catch(function (err) {\n        console.log(err);\n      }); // console.log(item.likes)\n    }\n  }, function () {\n    var approvePopup = new PopupWithApprove('.approve-popup', function () {\n      mainApi.deleteCard(item._id).then(function (res) {\n        return card.deleteCard();\n      }).catch(function (err) {\n        console.log(err);\n      });\n    });\n    approvePopup.setEventListeners();\n    approvePopup.open();\n  });\n  var cardElement = card.generateCard(item.owner._id, meID.id);\n\n  if (bool) {\n    renderDefaultCards.addItem(cardElement);\n  } else {\n    renderDefaultCards.addItemFromPopup(cardElement);\n  } //проверяем ставил ли текущий пользователь лайк, если да - заливаем цветом сердечко\n\n\n  if (item.likes.some(function (element) {\n    return element._id === meID.id;\n  })) {\n    cardElement.querySelector('.element__like_icon').classList.add('element__like_fill');\n  }\n}; //Создание новых карточек из массива с сервера\n\n\nvar renderDefaultCards = new Section({\n  renderer: function renderer(item) {\n    buildCard(item, true);\n  }\n}, '.elements'); //попап с картинкой и подписью\n\nvar popupImg = new PopupWithImage('.img-popup');\npopupImg.setEventListeners(); //Создание новых карточек из формы добавления карточек\n\nvar handleCardPopup = new PopupWithForm('.add-popup', function (_ref3) {\n  var placeName = _ref3.placeName,\n      link = _ref3.link;\n  renderLoading('.add-popup__save-button', true, 'Создать');\n  mainApi.addCard({\n    placeName: placeName,\n    link: link\n  }).then(function (data) {\n    buildCard(data, false);\n    handleCardPopup.reset();\n    popupAddValidator.enableValidation(); // addCardSaveButton.classList.add('popup-error__disabled-button')\n    // addCardSaveButton.setAttribute('disabled', true)\n  }).catch(function (err) {\n    console.log(err);\n  }).finally(function () {\n    return renderLoading('.profile-popup__save-button', false);\n  });\n});\nhandleCardPopup.setEventListeners();\naddButton.addEventListener('click', function () {\n  renderLoading('.add-popup__save-button', false, 'Создать');\n  handleCardPopup.open();\n});\nvar popupAddContainer = {\n  formSelector: '.add-popup__container',\n  inputSelector: '.add-popup__input-filed',\n  errorSelector: '.popup-error__text-input-error',\n  submitButtonSelector: '.add-popup__save-button',\n  inactiveButtonClass: 'popup-error__disabled-button',\n  inputErrorClass: 'popup-error__input-error',\n  errorClass: 'popup-error__text-input-error'\n};\nvar popupAddValidator = new FormValidator(popupAddContainer, '.add-popup__container');\npopupAddValidator.enableValidation(); // валидация формы\n\nvar popupProfileContainer = {\n  formSelector: '.profile-popup__container',\n  inputSelector: '.profile-popup__input-filed',\n  errorSelector: '.popup-error__text-input-error',\n  submitButtonSelector: '.profile-popup__save-button',\n  inactiveButtonClass: 'popup-error__disabled-button',\n  inputErrorClass: 'popup-error__input-error',\n  errorClass: 'popup-error__text-input-error'\n};\nvar popupProfileValidator = new FormValidator(popupProfileContainer, '.profile-popup__container');\npopupProfileValidator.enableValidation(); //валидация формы\n\n//# sourceURL=webpack://yandex_praktikum/./src/pages/index.js_+_9_modules?")})();